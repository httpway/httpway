// Code generated by httpway; DO NOT EDIT.
// +build handler

package httpway
{{ if gt (len .Handler) 0 }}
import (
  "github.com/pkg/errors"

  {{range .Handler -}}
  {{.Alias}} "{{.Path}}"
  {{- end}}
)
{{ end }}
func fetchHandlers() ([]handler, error) {
  {{- if gt (len .Handler) 0 }}
  var handlers []handler

  {{ range .Handler -}}
  {
    client, err := {{.Alias}}.NewClient()
    if err != nil {
      return nil, errors.Wrap(err, "'{{.Path}}' initialization error")
    }

    h := handler {
      instance: client,
      alias:    "{{.Alias}}",
    }
    handlers = append(handlers, h)
  }
  {{- end}}

  return handlers, nil
  {{- else }}
  return []handler {}, nil
  {{- end }}
}
