// Code generated by pipehub; DO NOT EDIT.
// +build pipe

package pipehub
{{ if gt (len .Pipe) 0 }}
import (
  "github.com/pkg/errors"
  {{ range .Pipe }}
  {{ .Alias }} "{{ .Path }}"
  {{- end }}
)
{{ end }}
func fetchPipes() ([]pipe, error) {
  {{- if gt (len .Pipe) 0 }}
  var pipes []pipe
  {{ range .Pipe }}
  {
    client, err := {{ .Alias }}.NewClient()
    if err != nil {
      return nil, errors.Wrap(err, "'{{ .Path }}' initialization error")
    }

    pipes = append(pipes, pipe {
      instance: client,
      alias:    "{{ .Alias }}",
    })
  }
  {{ end }}
  return pipes, nil
  {{- else }}
  return []pipes{}, nil
  {{- end }}
}
