// Code generated by pipehub; DO NOT EDIT.
// +build pipe

package pipehub
{{ if gt (len .Pipe) 0 }}
import (
  "github.com/pkg/errors"
  {{ range .Pipe }}
  {{ .Alias }} "{{ if .Module }}{{ .Module }}{{ else }}{{ .Path }}{{ end }}"
  {{- end }}
)
{{ end }}
func (pm *pipeManager) fetchPipes() error {
  {{- range .Pipe }}
  {
    client, err := {{ .Alias }}.NewClient()
    if err != nil {
      return errors.Wrap(err, "'{{ if .Module }}{{ .Module }}{{ else }}{{ .Path }}{{ end }}' initialization error")
    }

    pm.pipes = append(pm.pipes, pipe {
      instance: client,
      alias:    "{{ .Alias }}",
    })
  }
  {{ end }}
  return nil
}
